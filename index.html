<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Carnet Veterinario</title>
  <link rel="stylesheet" href="style.css" />
</head>
<body>
  <div class="container">
    <img src="logo.png" alt="Logo Vitavet" class="logo" />
    <h1>Carnet Veterinario</h1>

    <div class="selector">
      <label for="tipo">Tipo de reporte:</label>
      <select id="tipo" onchange="mostrarFormulario()">
        <option value="">-- Seleccionar --</option>
        <option value="vacunacion">Vacunaci√≥n</option>
        <option value="desparasitacion">Desparasitaci√≥n</option>
      </select>
    </div>

    <form id="formulario">
      <div id="datos-generales">
        <h3>Datos del Paciente</h3>
        <label>Especie:</label>
        <select id="especie" required>
          <option value="Canino">Canino</option>
          <option value="Felino">Felino</option>
        </select>

        <label>Nombre del animal:</label>
        <input type="text" id="nombreAnimal" required />

        <label>Sexo:</label>
        <select id="sexo" required>
          <option value="Macho">Macho</option>
          <option value="Hembra">Hembra</option>
        </select>

        <label>Edad:</label>
        <div class="peso-group">
          <input type="number" id="edad" placeholder="Ej: 3" required />
          <select id="unidadEdad">
            <option value="a√±os">A√±os</option>
            <option value="meses">Meses</option>
          </select>
        </div>

        <label>Propietario:</label>
        <input type="text" id="propietario" required />

        <label>Tel√©fono:</label>
        <input type="text" id="telefono" required />

        <label>Direcci√≥n:</label>
        <input type="text" id="direccion" required />
      </div>

      <div id="formulario-vacunacion" class="formulario-tipo">
        <h3>Datos de Vacunaci√≥n</h3>
        <label>Fecha:</label>
        <input type="date" id="fechaVac" />
        <label>Vacunas:</label>
        <input type="text" id="vacunas" />
        <label>Pr√≥xima vacunaci√≥n:</label>
        <input type="date" id="proxVac" />
      </div>

      <div id="formulario-desparasitacion" class="formulario-tipo">
        <h3>Datos de Desparasitaci√≥n</h3>
        <label>Fecha:</label>
        <input type="date" id="fechaDesp" />
        <label>Peso:</label>
        <div class="peso-group">
          <input type="number" id="peso" placeholder="Ej: 5.5" />
          <select id="unidadPeso">
            <option value="kg">kg</option>
            <option value="lb">lb</option>
          </select>
        </div>
        <label>Producto desparasitante:</label>
        <input type="text" id="producto" />
        <label>Pr√≥xima desparasitaci√≥n:</label>
        <input type="date" id="proxDesp" />
      </div>

      <button type="button" class="btn-generar" onclick="generarPDF()">Generar PDF</button>
    </form>
  </div>

  <!-- üåÄ Modal de carga -->
  <div id="loading-modal" class="loading-modal">
    <div class="loading-content">
      <div class="spinner"></div>
      <p id="loading-text">Generando PDF del paciente...</p>
    </div>
  </div>

  <!-- üìÑ Plantilla PDF -->
  <div id="plantilla-pdf" style="display: none;">
    <div style="font-family: Arial, sans-serif; padding: 20px; border-radius: 10px; background: #f1f8e9; border: 2px solid #a5d6a7;">
      <img src="logo.png" style="width: 80px; display:block; margin: auto;" />
      <h2 id="pdf-titulo" style="text-align: center; color: #388e3c;"></h2>
      <hr>
      <h3>Datos del Paciente</h3>
      <p><strong>Especie:</strong> <span id="out-especie"></span></p>
      <p><strong>Nombre:</strong> <span id="out-nombre"></span></p>
      <p><strong>Sexo:</strong> <span id="out-sexo"></span></p>
      <p><strong>Edad:</strong> <span id="out-edad"></span></p>
      <p><strong>Propietario:</strong> <span id="out-propietario"></span></p>
      <p><strong>Tel√©fono:</strong> <span id="out-telefono"></span></p>
      <p><strong>Direcci√≥n:</strong> <span id="out-direccion"></span></p>

      <div id="out-vacunacion" style="display:none;">
        <h3>Vacunaci√≥n</h3>
        <p><strong>Fecha:</strong> <span id="out-fechaVac"></span></p>
        <p><strong>Vacunas:</strong> <span id="out-vacunas"></span></p>
        <p><strong>Pr√≥xima vacunaci√≥n:</strong> <span id="out-proxVac"></span></p>
      </div>

      <div id="out-desparasitacion" style="display:none;">
        <h3>Desparasitaci√≥n</h3>
        <p><strong>Fecha:</strong> <span id="out-fechaDesp"></span></p>
        <p><strong>Peso:</strong> <span id="out-peso"></span></p>
        <p><strong>Producto:</strong> <span id="out-producto"></span></p>
        <p><strong>Pr√≥xima desparasitaci√≥n:</strong> <span id="out-proxDesp"></span></p>
      </div>

      <div style="text-align: center; margin-top: 30px;">
        <img src="firma.png" style="width: 130px;" />
        <p><strong>Melanie Nicola Tomala ‚Äì M√©dico Veterinario</strong></p>
      </div>
    </div>
  </div>

  <script src="html2pdf.bundle.min.js"></script>
  <script src="script.js"></script>
</body>
</html>
